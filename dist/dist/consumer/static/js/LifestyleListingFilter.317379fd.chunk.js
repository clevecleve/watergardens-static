"use strict";(self.webpackChunkconsumer=self.webpackChunkconsumer||[]).push([[6813,9878],{11501:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(69499),a=s(61995);class l extends i.Component{constructor(){super(...arguments),this.setMargin=()=>("standard"===this.props.margin?this.margin="standard-margin":"small"===this.props.margin?this.margin="small-margin":"custom"===this.props.margin?this.margin="custom-margin":"campaign"===this.props.margin?this.margin="campaign-margin":this.margin="",this.margin)}render(){return(0,a.jsx)("div",{className:`base-component ${this.setMargin()} ${this.props.className}`,children:this.props.children})}}const n=l},14729:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(69499);var a=s(61995);class l extends i.Component{constructor(){super(...arguments),this.renderAllTab=(e,t,s)=>(0,a.jsx)("li",{name:"listAll",className:"tab "+(""===e||e&&"all"===e.toLowerCase()?"selected":""),onClick:()=>t(s),children:(0,a.jsx)("div",{children:"All"})}),this.redirectPage=e=>{"undefined"!==typeof window&&(window.location.href=e.href)}}componentDidMount(){this.setupResizeHandler(),setTimeout(()=>{this.navigationResize()},500)}componentWillUnmount(){this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler)}setupResizeHandler(){this._resizeHandler=()=>this.navigationResize(),window.addEventListener("resize",this._resizeHandler)}navigationResize(){const e=document.getElementById("nav");if(!e)return;const t=e.querySelector("li.more");if(!t)return;const s=t.querySelector("#overflow");if(!s)return;for(;s.firstChild;)e.insertBefore(s.firstChild,t);const i=window.innerWidth,a=e=>e.getBoundingClientRect().width;let l=Array.from(e.children).filter(e=>"LI"===e.tagName&&!e.classList.contains("more"));const n=a(t);let c=n;const r=a(e)-n;l.forEach((e,t)=>{const s=a(e)+40;c+=s}),t.style.display=c>r&&i>991?"":"none";for(;c>r;){const e=l[l.length-1];if(!e)break;const t=a(e)+40;if(c-=t,!(i>991))break;s.insertBefore(e,s.firstChild),l.pop()}if(s.children.length){const i=t.getBoundingClientRect().left+window.pageXOffset+n-s.getBoundingClientRect().width+((s.offsetParent||e).getBoundingClientRect().left+window.pageXOffset);s.style.left=i+"px"}}render(){const{selected:e,updateFilter:t,hasAllTab:s,allTabQuery:i,defaultName:l,defaultFilter:n,defaultActive:c,className:r}=this.props||{};let{tabs:g}=this.props||{};return g&&g.length?(g=((e,t,s,i)=>{let a=[];return e.forEach(e=>a.push({name:e.fields[t].value,filter:e.fields[s].value,active:i?e.fields[i].value:null})),a})(g,l,n,c),(0,a.jsx)("div",{className:`header-sub-nav-wrapper ${r||""}`,children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("ul",{id:"nav",children:[s&&this.renderAllTab(e,t,i),g.map((i,l)=>{const{name:n=null,filter:c=null,active:r=null}=i||{},g=e&&c&&e.toLowerCase()===c.toLowerCase()||r&&"true"===r;return(0,a.jsx)("li",{className:g?"selected":"",onClick:()=>{s?t(c):this.redirectPage(c)},children:(0,a.jsx)("div",{children:n})},`secondarynavID-${l}`)}),(0,a.jsxs)("li",{className:"more",children:[(0,a.jsx)("div",{children:"More \xbb"}),(0,a.jsx)("ul",{id:"overflow"})]})]})})})):null}}const n=l},24827:(e,t,s)=>{s.d(t,{A:()=>a});s(69499);var i=s(61995);const a=()=>(0,i.jsx)("div",{className:"loader-wrapper",children:(0,i.jsx)("div",{className:"loader"})})},48666:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAIAAABEtEjdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAawSURBVHhe7dQBDQAADMOg+5c6FffRgAhuAOTIHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgcIkjtAkNwBguQOECR3gCC5AwTJHSBI7gBBcgfI2R5jTYfLh3foSgAAAABJRU5ErkJggg=="},49055:(e,t,s)=>{s.d(t,{q:()=>i});const i=(e,t,s)=>{let i,a=0;return s?(window&&window.outerWidth&&window.outerWidth<768?a=6:i=window&&window.outerWidth&&window.outerWidth<=768&&window.outerWidth<992&&s?e%s:e%t,1==i?a=6:2==i?a=8:3==i?a=10:4==i&&(a=12)):(i=e%t,1==i?a=6:2==i?a=8:3==i?a=10:4==i&&(a=12)),a}},52327:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var i=s(69499),a=s(61995);class l extends i.Component{constructor(e){super(e),this.handleScroll=()=>{const e=document.querySelectorAll(".animation-rise-and-fade");if(e)for(let t=0;t<e.length;t++){let s=e[t],i=s.getBoundingClientRect(),a=window.innerHeight>=i.top,l=s.style.transform.split(/\w+\(|\);?/)[1].split("%")[0],n=0;l>0?a&&(l-=1,n+=.3):(l=0,n=1),s.style.transform=`translateY(${l}%)`,s.style.opacity=n}}}componentDidMount(){window&&window.addEventListener("scroll",this.handleScroll)}render(){const{position:e}=this.props||{};let t,s;return s=isNaN(e)?0:e,t={transform:`translateY(${s}%)`},(0,a.jsx)("div",{className:"animation-rise-and-fade",style:t,children:this.props.children})}}const n=l},66243:(e,t,s)=>{s.d(t,{A:()=>l});s(69499);var i=s(98558),a=s(61995);const l=e=>{const{iconValue:t=null,linkUrl:s=null,linkName:l=null,size:n=16,mapInfo:c=null,noLocation:r=!1,withViewOnMap:g=!1}=e;return t&&l&&l.value?(0,a.jsxs)("div",{className:"details-wrapper",children:[(0,a.jsx)("i",{className:`icon icon-${t} mr-1 mr-md-2`,style:{fontSize:n+"px"}}),s&&s.length&&r?(0,a.jsx)("a",{href:s,children:(0,a.jsx)(i.Text,{field:l})}):s&&s.length&&g?(0,a.jsxs)("div",{className:"separated-location",children:[(0,a.jsx)("span",{children:(0,a.jsx)(i.Text,{field:l})}),(0,a.jsx)("a",{href:s+"#/profile?location="+c,children:"View on map"})]}):s&&s.length?(0,a.jsx)("a",{href:s+"#/profile?location="+c,children:(0,a.jsx)(i.Text,{field:l})}):(0,a.jsx)(i.Text,{field:l})]}):null}},80255:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var i=s(69499),a=s(98558),l=s(11501),n=s(83236),c=(s(48666),s(43210)),r=s.n(c),g=s(363),o=s.n(g),d=s(24827),B=s(49055),u=(s(14729),s(61995));class C extends i.Component{constructor(e){super(e),this.getLifestyleList=async(e,t)=>{const{pageId:s,dbName:i,pageSize:a,filter_contenttag:l}=this.state.LifestyleListData,n={pageId:s,dbName:i,pageNumber:e,pageSize:a,filter_contenttag:l.toString()};t?this.setState({isScrolling:!0}):this.setState({showLoader:!0});r()({url:"/api/sitecore/lifestyle/GetLifestyle",method:"GET",params:n}).then(t=>{let s=t.data?t.data:null;if(s&&s.Lifestyle){const t=Math.ceil(s.TotalCount.value/12),i=e>1?this.state.LifestyleListing.concat(s.Lifestyle):s.Lifestyle,a=s.TotalCount&&s.TotalCount.value?s.TotalCount.value:0,l=s.Page&&s.Page.value?s.Page.value:1;this.setState({...this.state,LifestyleListing:i,totalCount:a,currentPage:l,hasMoreItems:l!=t})}this.setState({showLoader:!1,isScrolling:!1})}).catch(e=>{console.log(e),this.setState({showLoader:!1,isScrolling:!1})})},this.handleClickCategory=e=>{const t=e.target,s=t.id,i=t.parentNode.firstChild,a=t.textContent.toLowerCase();let l=this.state.LifestyleListData.filter_contenttag;/is-active/.test(t.classList.value)?l=l.filter(function(e){return a.indexOf(e)<0}):s?l.push(a):l.length=0,this.setState({LifestyleListData:{...this.state.LifestyleListData,filter_contenttag:l},currentPage:1},()=>this.getLifestyleList(1)),s&&/is-active/.test(i.classList.value)&&i.classList.toggle("is-active"),t.classList.toggle("is-active")},this.state={LifestyleListData:{pageId:"",dbName:"",pageSize:1,filter_contenttag:[]},LifestyleListing:[],currentPage:1,totalCount:0,showLoader:!0,isScrolling:!1,hasMoreItems:!0}}componentDidMount(){let e=window.document.getElementsByName("ContextItem")[0],t=e.value,s=e.dataset.targetDb,i="";i=this.getUrlParameter("filter_tag");let a=[];""!==i&&(a=i.split(",")),this.setState({...this.state,LifestyleListData:{pageId:t,dbName:s,pageSize:12,filter_contenttag:a}},()=>this.getLifestyleList(1))}getUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),s=window&&window.location&&window.location.search?t.exec(window.location.search):null;return null===s?"":decodeURIComponent(s[1].replace(/\+/g," "))}loadLifestyleList(){this.getLifestyleList(this.state.currentPage+1,!0)}renderCategories(e){const{filter_contenttag:t}=this.state.LifestyleListData;let s=[{fields:{Name:{value:"All"},Id:{value:""}}},...e];return(0,u.jsxs)("div",{className:"lifestyle-listing__category",children:[(0,u.jsx)("div",{className:"lifestyle-listing__category--label",children:"Showing:"}),(0,u.jsx)("ul",{className:"lifestyle-listing__category--filter",children:s.map((e,s)=>{const{Name:i=null,Id:l=null}=e.fields;let n="";return t.length>0&&t.forEach(function(e,t){e==i.value.toLowerCase()&&(n="is-active")}),s<1&&t.length<1&&(n="is-active"),(0,u.jsx)("li",{className:`lifestyle-listing__category--filter-list ${n}`,id:l&&l.value?l.value:"",onClick:this.handleClickCategory,children:(0,u.jsx)(a.Text,{field:i})},`category-${l.value}-${s}`)})})]})}renderLifestyles(e){const{NoResultsText:t}=this.props.fields||{};let s;return s=e&&e.length>0?(0,u.jsx)("div",{className:"content-tile-list-wrapper",children:(0,u.jsx)("div",{className:"row",children:e.map((e,t)=>{const{Title:s=null,Thumbnail:i=null,Link:a=null,PageType:l=null}=e;return(0,u.jsx)(n.A,{index:!0,name:s,nameLink:a,thumbnail:i,pageType:l,position:(0,B.q)(t,4,3)})})})}):(0,u.jsx)("div",{className:"lifestyle-listing__content--noresult",children:t&&t.value?(0,u.jsx)(a.Text,{field:t}):"No result. Please try again."}),s}render(){const{ContentTags:e=[]}=this.props.fields||{},{RemoveDefaultMargin:t=""}=this.props.params||{},{ApplySmallMargin:s=""}=this.props.params||{},i=t&&"1"===t?"":s&&"1"===s?"small":"standard",{showLoader:a,isScrolling:n,LifestyleListing:c}=this.state;return(0,u.jsx)("div",{className:"lifestyle-listing font-regular",children:(0,u.jsx)(l.A,{margin:i,children:(0,u.jsxs)("div",{className:"container",children:[e&&e.length>0&&this.renderCategories(e),(0,u.jsx)(o(),{style:{height:"auto",overflow:"auto"},dataLength:c.length,next:this.loadLifestyleList.bind(this),hasMore:this.state.hasMoreItems,children:(0,u.jsxs)("div",{className:"lifestyle-listing__content--wrapper",children:[!a&&this.renderLifestyles(c),(a||n)&&(0,u.jsx)(d.A,{})]})})]})})})}}const h=C},83236:(e,t,s)=>{s.d(t,{A:()=>B});var i=s(69499),a=s(98558),l=s(66243),n=s(48666),c=s(52327),r=s(33590),g=s.n(r),o=s(61995);class d extends i.Component{constructor(e){super(e),this.handleClickBrauzBtn=e=>{window.Brauz_open_book_a_stylist_dialog_with_selected_store(e)}}textFieldToUppercase(e){return{value:e.value.toUpperCase()}}categoryHandler(e){this.props.categoryMainHandler(e)}render(){const{category:e,name:t,nameLink:s,location:r,locationLink:d,itemId:B,openTime:u,thumbnail:C,logo:h,cookTime:w,serves:A,difficulty:m,rating:k,price:p,acceptsOnlineBooking:j,bookingIcon:f,bookingLabel:I,bookingUrl:v,hasBooking:N,index:x,position:T,retailerName:S,isRetailerContent:y,isLogoAsThumbnail:R,thumbnailAltText:E,pageType:H,retailerId:L}=this.props,O=(0,o.jsxs)("div",{className:"icons",children:[(()=>{let e=[],t=[],s=[];if(k&&k.value){const t=parseInt(k.value);for(let s=1;s<=5;s++)s<=t?e.push((0,o.jsx)("div",{className:"icon icon-star checked"},s)):e.push((0,o.jsx)("div",{className:"icon icon-star"},s))}if(p&&p.value){const e=parseInt(p.value);if(e<=1)t.push((0,o.jsx)("i",{className:"icon icon-dollar"},"priceLevelId1"));else if(2===e||3===e)for(let s=0;s<2;s++)t.push((0,o.jsx)("i",{className:"icon icon-dollar"},"priceLevelId"+s));else if(e>=4)for(let s=0;s<3;s++)t.push((0,o.jsx)("i",{className:"icon icon-dollar"},"priceLevelId"+s))}else t="";return s=e.length||t?(0,o.jsxs)("div",{className:"storerating",children:[(0,o.jsx)("div",{className:"star",children:e}),(0,o.jsx)("div",{className:"dollar",children:(0,o.jsx)("div",{className:"pricelevel",children:(0,o.jsx)("span",{children:t})})})]}):"",s})(),r&&r.value&&(0,o.jsx)(l.A,{iconValue:"location mr-2",linkUrl:d&&d.value,linkName:r,mapInfo:L&&L.value?L.value:"",size:"24"}),u&&u.value&&(0,o.jsx)(l.A,{iconValue:"time mr-2",linkName:u,size:"24"}),w&&w.value&&(0,o.jsx)(l.A,{iconValue:"timer",linkName:w,size:"24"}),A&&A.value&&(0,o.jsx)(l.A,{iconValue:"users",linkName:A,size:"24"}),m&&m.value&&(0,o.jsx)(l.A,{iconValue:"chef-2",linkName:m,size:"24"}),j&&j.value&&(0,o.jsxs)("div",{className:"details-wrapper",children:[f&&f.value?(0,o.jsx)("i",{className:`icon icon-${f.value} mr-2`,style:{fontSize:"24px"}}):(0,o.jsx)("i",{className:"icon icon-calendar-2 mr-2",style:{fontSize:"24px"}}),(0,o.jsx)("div",{className:"text-block",children:N&&N.value?(0,o.jsx)("button",{className:"brauz",onClick:()=>this.handleClickBrauzBtn(B.value),children:(0,o.jsx)(a.Text,{field:I})}):v&&v.value?(0,o.jsx)("a",{href:v.value,target:"_blank",children:(0,o.jsx)(a.Text,{field:I})}):(0,o.jsx)(a.Text,{field:I})})]})]});return(0,o.jsx)("div",{className:"col-12 col-md-4 col-lg-3",onClick:()=>g().dataLayer({dataLayer:{event:"lifestyleClick",lifestyle_page_type:H.value,lifestyle_title:t.value},dataLayerName:"dataLayer"}),children:(0,o.jsxs)(c.default,{position:T,children:[(0,o.jsxs)("div",{className:"animation-range",children:[(0,o.jsx)("div",{className:"image-wrapper  "+(R&&R.value?"display_retailer_logo":""),children:(0,o.jsxs)("a",{href:s&&s.value?s.value:"",className:"name",children:[C&&C.value&&C.value.src?(0,o.jsx)("div",{className:"include_logo_padding",children:(0,o.jsx)(a.Image,{media:{...C.value,src:n},"data-src":C.value.src,className:"tile-image lazyload"})}):(0,o.jsxs)(i.Fragment,{children:[y&&y.value&&(0,o.jsx)("div",{className:"display_retailer_name",children:(0,o.jsx)(a.Text,{field:S})}),(0,o.jsx)("div",{className:"no-image"})]}),B&&B.value&&(h&&h.value&&h.value.src?(0,o.jsx)("div",{className:"tile-logo-wrapper",children:(0,o.jsx)(a.Image,{media:{...h.value,src:n},"data-src":h.value.src,className:"tile-logo lazyload"})}):(0,o.jsx)("div",{className:"no-logo",children:(0,o.jsx)(a.Text,{field:t})}))]})}),H&&H.value?(0,o.jsxs)("div",{className:"title",children:[(0,o.jsxs)("div",{className:"page-type",children:[(0,o.jsx)("div",{className:"pagetype-rectangle"}),(0,o.jsx)(a.Text,{field:H})]}),(0,o.jsx)("div",{className:"name",children:(0,o.jsx)("a",{href:s&&s.value?s.value:"",children:(0,o.jsx)(a.Text,{field:t})})})]}):(0,o.jsxs)("div",{className:"title",children:[e&&e.value&&(0,o.jsx)("div",{className:"category",children:(0,o.jsx)("a",{onClick:()=>this.categoryHandler(e),children:(0,o.jsx)(a.Text,{field:this.textFieldToUppercase(e)})})}),(0,o.jsx)("div",{className:"name",children:(0,o.jsx)("a",{href:s&&s.value?s.value:"",children:(0,o.jsx)(a.Text,{field:t})})}),O]})]}),O]})},t.value+x)}}const B=d}}]);
//# sourceMappingURL=LifestyleListingFilter.317379fd.chunk.js.map