"use strict";(self.webpackChunkconsumer=self.webpackChunkconsumer||[]).push([[3384,6297],{11501:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(69499),i=s(61995);class l extends a.Component{constructor(){super(...arguments),this.setMargin=()=>("standard"===this.props.margin?this.margin="standard-margin":"small"===this.props.margin?this.margin="small-margin":"custom"===this.props.margin?this.margin="custom-margin":"campaign"===this.props.margin?this.margin="campaign-margin":this.margin="",this.margin)}render(){return(0,i.jsx)("div",{className:`base-component ${this.setMargin()} ${this.props.className}`,children:this.props.children})}}const r=l},19367:(e,t,s)=>{s.d(t,{RM:()=>a,Xo:()=>i,ag:()=>r,sK:()=>l,wo:()=>d});const a={show:"{AAE07A52-46A4-49EF-98B0-C2595BAC2382}",hide:"{7F58C8DD-D7C0-4FB7-BB44-8EC6B5E1C3D9}",enable:"{5744A87E-E32C-42CC-862F-96842A0202BB}",disable:"{C698C993-549E-486A-A09C-BB8D830DA958}"},i={is_equal_To:"{1D38B217-A2EE-4E7B-B6ED-13E751462FEB}",is_not_equal_to:"{49F47E77-E8C5-46F9-BF39-78D6B0D40B48}",contains:"{BF8935A6-1976-43A0-ABA5-D0BC128A76EA}",does_not_contain:"{45AAB0FB-775B-40F5-B3B8-7CAE3ABBF643}",starts_with:"{FD10F291-3C2E-4AE7-8A67-2F8271CB3DF2}",does_not_start_with:"{6B92597D-F2E0-47D3-A40D-59AFB37EEDE5}",ends_with:"{D375ED5B-E156-4A2B-9F91-DFD5B03F0D78}",does_not_end_with:"{F3AC7A1A-3458-4385-BB65-860315313DB3}",is_greater_than:"{61FF63A0-375C-47BD-9986-1F81BD12BBBB}",is_greater_than_or_equal_to:"{062C6ED9-EA6E-4A88-AE54-C88E2147971D}",is_less_than:"{8FE41E53-AD87-4D24-B50F-EA0F6BDF739F}",is_less_than_or_equal_to:"{88AC1C6B-BAFE-40A7-BB75-E304C8EC29DD}"},l={RECAPTCHA:"{E383BDE2-BC88-4278-83EF-832A15C9E94A}"},r={"{47B8C5AF-35F8-4900-B8F2-D28C3A8C93CE}":"email","{AFF394C1-E5F8-4265-9D4D-ECBC8CB4AC36}":"name","{72A820CA-E0EF-4180-8E96-0293268F3E66}":"phone"},d={email:"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$",name:"^[_A-z0-9 ]*((-|\\s)*[_A-z0-9 ])*$",phone:"^[0-9 +()-]+$",postcode:"^(?=.{3,10}$)[A-Za-z0-9 ]+$"}},52536:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(69499),i=s(98558),l=s(75178),r=s(29740),d=s(33590),n=s.n(d),o=s(43210),c=s.n(o),u=s(96601),h=s(11501),p=s(61995);class m extends a.Component{constructor(e){super(e),this.recaptchaLoaded=()=>{console.log("Successful Load Recaptcha"),this.setState({recaptchaLoaded:!0})},this.recaptchaExpired=()=>{this.setState({verifiedRecaptcha:!1,expiredRecaptcha:!0})},this.recaptchaVerifyResponse=e=>{e?this.setState({verifiedRecaptcha:!0,expiredRecaptcha:!1}):this.setState({verifiedRecaptcha:!1})},this.handleToggle=e=>{e.target.focus(),this.setState({show:!this.state.show})},this.handleBlur=e=>{this.state.show&&setTimeout(()=>{this.setState({show:!this.state.show})},250)},this.handleSubmitBtn=e=>{e.preventDefault();let t=document.querySelector(".contactus-wrapper");const s=document.getElementById("Topic");let a=e.target,i=a.querySelector(".contactus-submit-btn");const{verifiedRecaptcha:l}=this.state,r=document.getElementsByClassName("contactus-form")[0].querySelector(".form-recaptcha");if(this.setState({submitted:!0}),setTimeout(()=>{let e=a.querySelector(".form-control-error");e&&e.scrollIntoView()},250),r&&!l)return void r.classList.add("is-required");if(!this.state.complete)return;i.setAttribute("disabled","");const{SuccessMessage:d=null,FailedMessage:o=null}=this.props.fields||{},u=this.props.rendering.dataSource||"";let h=[];h=this.state.fields.map(e=>({FieldName:e.fieldName,Value:e.value})),h.push({FieldName:"Topic",Value:this.topic.current.value});let p={ContactUsDetails:{ItemID:u,UserEmailAddress:this.state.userEmailAddress,Fields:h,SuccessMessage:d.value,FailedMessage:o.value}};c()({url:"/api/sitecore/forms/contactus",method:"POST",data:p}).then(e=>{e&&e.data&&e.data.message&&(this.setState({successMessage:e.data.message}),n().dataLayer({dataLayer:{event:"contactUsFormSubmit",contactUsTopic:s&&s.value},dataLayerName:"dataLayer"}),t.scrollIntoView())}).catch(e=>{i.removeAttribute("disabled"),console.error(e)})},this.updateFieldValue=(e,t,s,a,i)=>{let l=null,r=[],d=!0;"email address field"===s.toLowerCase()&&(l=t),r=this.state.fields.map(s=>(s.fieldName===e&&(s.value=t,d=!1),s)),d&&r.push({fieldName:e,value:t,required:a});let n=null;for(let o=0;o<this.props.fields.Fields.length;o++)if(this.topic.current.form[o]){if(!this.topic.current.form[o].value&&this.topic.current.form[o].required){n=!1;break}n=!0}this.setState({...this.state,fields:r,userEmailAddress:l||this.state.userEmailAddress,complete:!!i&&n})},this.onChangeSelection=e=>{this.setState({feedback:e})},this.state={fields:[],userEmailAddress:"",complete:!1,submitted:!1,successMessage:null,feedback:null,show:!1,verifiedRecaptcha:!1,expiredRecaptcha:!1,load:!1,recaptchaLoaded:!1},this.topic=a.createRef(),this.inputField=a.createRef()}componentDidMount(){this.setState({feedback:this.topic.current.value}),setTimeout(()=>{this.setState({load:!0})},1500)}render(){const{verifiedRecaptcha:e,expiredRecaptcha:t,load:s}=this.state,{PageSummary:d=null,Fields:n=null,EnableRecaptcha:o=null,PublicKey:c=null}=this.props.fields||{},{RemoveDefaultMargin:m=""}=this.props.params||{},{ApplySmallMargin:v=""}=this.props.params||{},f=m&&"1"===m?"":v&&"1"===v?"small":"standard";let F=null;return this.state.successMessage&&(F=(0,p.jsx)("div",{className:"thanks-for-contacting",dangerouslySetInnerHTML:{__html:r.A.sanitize(this.state.successMessage)}})),(0,p.jsx)(h.A,{margin:f,children:(0,p.jsx)("div",{className:"contactus-wrapper",children:F||(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)("div",{className:"contactus-description",children:(0,p.jsx)(i.Text,{field:d})}),(0,p.jsx)("form",{onSubmit:this.handleSubmitBtn,noValidate:!0,children:(0,p.jsxs)("div",{className:"contactus-form",children:[n&&n.map((e,t)=>{let{Name:s,Type:a}=e.fields||{};if(a&&"heading field"===a.value.toLowerCase())return(0,p.jsx)("div",{className:"contactus-subheading",children:s.value},s.value+t);if(a&&("text field"===a.value.toLowerCase()||"email address field"===a.value.toLowerCase()||"phone number field"===a.value.toLowerCase()))return(0,p.jsx)(u.default,{info:e.fields,updateFieldValue:this.updateFieldValue,submitted:this.state.submitted},a.value+t);if(a&&"droplist"===a.value.toLowerCase()){let{Values:l}=e.fields||{};const r=l[0].fields.Name.value;return(0,p.jsx)("div",{className:"row",children:(0,p.jsxs)("div",{className:"col col-md-12",children:[(0,p.jsx)("div",{className:"form-group contactus-dropdown",children:(0,p.jsxs)("div",{className:"dropdown-container",children:[(0,p.jsxs)("div",{className:"arrow "+(this.state.show?"active":""),onClick:this.handleToggle,onBlur:this.handleBlur,tabIndex:"0",children:[(0,p.jsxs)("div",{className:"dropdown-placeholder",children:[(0,p.jsx)("div",{className:"label",children:(0,p.jsx)(i.Text,{field:s})}),(0,p.jsx)("input",{id:s&&s.value?s.value:`dropdown${t}`,type:"button",value:this.state.feedback?this.state.feedback:r,className:"dropdown-btn",ref:this.topic})]}),(0,p.jsx)("i",{className:"icon icon-arrow-down"})]}),(0,p.jsx)("ul",{className:"dropdown-list",hidden:!this.state.show,children:l&&l.map((e,t)=>{let{Name:s}=e.fields||{};return this.state.feedback===s.value?(0,p.jsxs)("li",{className:"active",children:[(0,p.jsx)("i",{className:"icon icon-check"}),(0,p.jsx)("span",{children:s.value})]},`optionID-${t}`):(0,p.jsxs)("li",{onClick:()=>this.onChangeSelection(s.value),children:[(0,p.jsx)("i",{className:"icon icon-check hide"}),(0,p.jsx)("span",{children:s.value})]},`optionID-${t}`)})})]})}),l&&l.map((e,t)=>{const{LinkedFields:s=[],Name:a}=e.fields||{};if(s.length>0)return(0,p.jsx)("div",{className:"js-form-dropdown",children:s.map((e,t)=>{if(e.fields.Type&&("text field"===e.fields.Type.value.toLowerCase()||"email address field"===e.fields.Type.value.toLowerCase()||"phone number field"===e.fields.Type.value.toLowerCase()))return(a.value.toLowerCase()===r.toLowerCase()||this.state.feedback&&a.value.toLowerCase()===this.state.feedback.toLowerCase())&&(0,p.jsx)(u.default,{info:e.fields,updateFieldValue:this.updateFieldValue,submitted:this.state.submitted,isDropDownField:!0},"form-dropdown "+e.fields.Type.value+t)})},a&&a.value?a.value+t:"dropdown "+t)})]})},a.value+t)}return a&&"multi-line field"===a.value.toLowerCase()?(0,p.jsx)(u.default,{info:e.fields,updateFieldValue:this.updateFieldValue,submitted:this.state.submitted},a.value+t):void 0}),s&&o&&o.value&&c&&c.value&&(0,p.jsxs)("div",{className:"form-group form-recaptcha "+(e?"verifiedRecaptcha ":" ")+(t?"is-required":" "),children:[(0,p.jsx)(l.A,{size:"normal",sitekey:c&&c.value?c.value:"6LeqAfYUAAAAAGK1oZ1NzfVUFeC4kqJOe16XklGg",onChange:this.recaptchaVerifyResponse,onExpired:this.recaptchaExpired,asyncScriptOnLoad:this.recaptchaLoaded}),(0,p.jsx)("div",{className:"form-control-validation",children:(0,p.jsx)("span",{children:(0,p.jsx)("label",{children:"ReCaptcha is required"})})})]}),(0,p.jsx)("div",{className:"contactus-button",children:(0,p.jsx)("button",{className:"contactus-submit-btn",type:"submit",children:"Send"})})]})})]})})})}}const v=m},96601:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(69499),i=s(19367),l=s(61995);class r extends a.Component{constructor(e){super(e),this.validateField=()=>{const{FormatValidation:e=null,Type:t=null,IsRequired:s=null}=this.props.info||{},{updateFieldValue:a=null}=this.props||{};let l=null;e&&e.value&&(l=i.ag[e.value]||null);let r,d=l?i.wo[l]:"",n=d?new RegExp(d):null;s.value&&!this.inputField.current.value?(this.setState({validInput:!1,touched:!0}),r=""):n&&!n.test(String(this.inputField.current.value))?(this.inputField.current.value?this.setState({validInput:!1,touched:!0}):this.setState({validInput:!0,touched:!1}),r=""):(this.setState({validInput:!0,touched:!1}),r=this.inputField.current.value),a(this.inputField.current.id,r,t.value,s.value,this.state.validInput),this.inputField.current.value?this.setState({hasValue:!0}):this.setState({hasValue:!1})},this.state={validInput:!1,touched:!1,hasValue:!1},this.inputField=a.createRef()}render(){const{Name:e=null,Type:t=null,IsRequired:s=null,Placeholder:a=null,RequiredValidationMessage:i=null}=this.props.info||{};return(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col col-md-12",children:(0,l.jsxs)("div",{className:"form-group "+("phone number"===e.value.toLowerCase()?"phone-number":""),children:["multi-line field"===t.value.toLowerCase()?(0,l.jsx)("textarea",{id:e.value,className:""+(!this.state.validInput&&this.state.touched||this.props.submitted&&!this.state.validInput&&s.value?"form-control-error":""),required:!!s.value,ref:this.inputField,onChange:this.validateField,onBlur:this.validateField}):(0,l.jsx)("input",{type:"text",id:e.value,className:"form-control form-control-lg "+(!this.state.validInput&&this.state.touched||this.props.submitted&&!this.state.validInput&&s.value?"form-control-error":""),required:!!s.value,ref:this.inputField,onChange:this.validateField,onBlur:this.validateField}),(0,l.jsx)("label",{className:`${s.value?"form-control-placeholder":"form-field-not-required"}\n                ${this.state.hasValue?"form-field-hasValue":""}\n                ${!this.state.validInput&&this.state.touched||this.props.submitted&&!this.state.validInput&&s.value?"form-text-error":""}\n                `,htmlFor:e.value,children:"multi-line field"===t.value.toLowerCase()&&this.state.hasValue?"":a.value}),(!this.state.validInput&&this.state.touched||this.props.submitted&&!this.state.validInput&&s.value)&&(0,l.jsxs)("span",{children:[(0,l.jsx)("i",{className:"icon icon-danger contactus-danger-icon",children:"!"}),(0,l.jsx)("label",{className:"form-control-validation",children:i.value})]})]})})})}}const d=r}}]);
//# sourceMappingURL=ContactUs.b4f704bd.chunk.js.map