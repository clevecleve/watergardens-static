"use strict";(self.webpackChunkconsumer=self.webpackChunkconsumer||[]).push([[8285],{11501:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(69499),r=n(61995);class i extends s.Component{constructor(){super(...arguments),this.setMargin=()=>("standard"===this.props.margin?this.margin="standard-margin":"small"===this.props.margin?this.margin="small-margin":"custom"===this.props.margin?this.margin="custom-margin":"campaign"===this.props.margin?this.margin="campaign-margin":this.margin="",this.margin)}render(){return(0,r.jsx)("div",{className:`base-component ${this.setMargin()} ${this.props.className}`,children:this.props.children})}}const a=i},30071:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dom=void 0;const s=n(61655),r=n(66455),i=/(<\/?(?:[a-z][a-z0-9]*:)?[a-z][a-z0-9-_.]*?[a-z0-9]*\s*(?:\s+[a-z0-9-_:]+(?:=(?:(?:'[\s\S]*?')|(?:"[\s\S]*?")))?)*\s*\/?>)|([^<]|<(?![a-z/]))*/gi,a=/\s[a-z0-9-_:]+\b(\s*=\s*('|")[\s\S]*?\2)?/gi,o=/(\s[a-z0-9-_:]+\b\s*)(?:=(\s*('|")[\s\S]*?\3))?/gi,l=/^<[a-z]/,u=/\/>$/,d=/^<\//,c=/^[^<]/,h=/<\/?((?:([a-z][a-z0-9]*):)?(?:[a-z](?:[a-z0-9-_.]*[a-z0-9])?))/i,p=/^('|")|('|")$/g,m=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)/i;function g(e,t){if(!t)return!1;const n=d.test(t),[,r]=t.match(h)||[];return n&&e.nodeName===r||e.isSelfCloseTag||e.nodeType===s.NodeType.text}function f(e,t){const n=c.test(e),i=l.test(e);return n?function(e,t){var n;const r=new s.Node({nodeType:s.NodeType.text,nodeName:"#text",text:e,parentNode:t});return null===(n=null===t||void 0===t?void 0:t.childNodes)||void 0===n||n.push(r),r}(e,t):i?function(e,t){var n;const[,i,l]=e.match(h)||[],d=u.test(e)||m.test(i),c=function(e){return(e.match(a)||[]).map(e=>{o.lastIndex=0;const t=o.exec(e)||[],[,n="",s=""]=t;return new r.NodeAttribute({name:n.trim(),value:s.trim().replace(p,"")})})}(e),g=new s.Node({nodeType:s.NodeType.element,nodeName:i,namespace:l,attributes:c,childNodes:[],parentNode:t,selfCloseTag:d});return null===(n=null===t||void 0===t?void 0:t.childNodes)||void 0===n||n.push(g),g}(e,t):null}t.Dom=class{constructor(e){this.rawHTML=e}find(e,t){const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=function*(e){const t=function(e){return e.match(i)||[]}(e);let n=null;for(let s=0,r=t.length;s<r;s++){const e=t[s];n=f(e,n)||n,g(n,e)&&(yield n,n=n.parentNode)}for(;n;)yield n,n=n.parentNode}(e),r=[];for(const i of s)if(i&&t(i)&&(r.push(i),n))return r;return r}(this.rawHTML,e,t);return t?n[0]||null:n}getElementsByClassName(e){const t=new RegExp(`^(.*?\\s)?${e}(\\s.*?)?$`);return this.find(e=>Boolean(e.attributes.length&&t.test(e.getAttribute("class")||"")))}getElementsByTagName(e){return this.find(t=>t.nodeName.toUpperCase()===e.toUpperCase())}getElementById(e){return this.find(t=>t.getAttribute("id")===e,!0)}getElementsByName(e){return this.find(t=>t.getAttribute("name")===e)}getElementsByAttribute(e,t){return this.find(n=>n.getAttribute(e)===t)}}},52845:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(69499),r=n(98558),i=n(11501),a=n(70999),o=n(61995);class l extends s.Component{constructor(e){super(e)}componentDidMount(){const{scriptContents:e}=this.appendScript();e.forEach(e=>{setTimeout(()=>{let t=document.createElement("script");t.textContent=e,document.body.appendChild(t)},500)}),setTimeout(()=>{let e=this.detectQueryStringParams(),t=this.getStacklaId();t&&n.g.StacklaFluidWidget&&n.g.StacklaFluidWidget.changeFilter&&n.g.StacklaFluidWidget.changeFilter(t,e)},1e3)}appendScript(){const e=[],t=JSON.parse(JSON.stringify(this.props.fields.Object));if(t&&t.value){let n=(0,a.parseFromString)(`<html><body>${t.value}</body></html>`).getElementsByTagName("script");if(n&&n.length){for(let t=0;t<n.length;t++)e.push(n[t].innerHTML);let s=t.value.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");t.value=s}}return{scriptContents:e,object:t}}detectQueryStringParams(){if(document){let e=new URLSearchParams(document.location.search).get("stackla");return e||null}return null}getStacklaId(){const{Object:e}=this.props.fields;if(!e||!e.value)return null;{let t=(0,a.parseFromString)(`<span>${e.value}</div>`).getElementsByClassName("stackla-widget")[0];if(t){let e=t.getAttribute("data-id");return e||null}}}render(){const{object:e}=this.appendScript();if(e&&e.value){const{RemoveDefaultMargin:t=""}=this.props.params||{},{ApplySmallMargin:n=""}=this.props.params||{},s=t&&"1"===t?"":n&&"1"===n?"small":"standard";return(0,o.jsx)(i.A,{margin:s,children:(0,o.jsx)("div",{className:"object-block container "+(this.props.fields.FixedHeight&&this.props.fields.FixedHeight.value?"fixed-height":""),children:(0,o.jsx)(r.RichText,{field:e})})})}return null}}const u=l},61655:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Node=t.NodeType=void 0,function(e){e[e.element=1]="element",e[e.text=3]="text"}(n||(t.NodeType=n={}));class s{constructor(e){let{nodeType:t,namespace:s,selfCloseTag:r,text:i,nodeName:a,childNodes:o,parentNode:l,attributes:u}=e;this.namespace=s||null,this.nodeType=t,this.isSelfCloseTag=Boolean(r),this.text=i||null,this.nodeName=t===n.element?a:"#text",this.childNodes=o||[],this.parentNode=l,this.attributes=u||[]}get firstChild(){return this.childNodes[0]||null}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}get innerHTML(){return this.childNodes.reduce((e,t)=>e+(t.nodeType===n.text?t.text:t.outerHTML),"")}get outerHTML(){if(this.nodeType===n.text)return this.textContent;const e=this.attributes.map(e=>e.name+(e.value?`="${e.value}"`:"")).join(" ");const t=`<${this.nodeName}${e.length?" ":""}${e}${this.isSelfCloseTag?"/":""}>`;if(this.isSelfCloseTag)return t;return[t,this.childNodes.map(e=>e.outerHTML).join(""),`</${this.nodeName}>`].join("")}get textContent(){return this.nodeType===n.text?this.text:this.childNodes.map(e=>e.textContent).join("").replace(/\x20+/g," ")}getAttribute(e){const t=this.attributes.find(t=>t.name===e);return t?t.value:null}getElementsByTagName(e){return r(this,t=>t.nodeName.toUpperCase()===e.toUpperCase())}getElementsByClassName(e){const t=new RegExp(`^(.*?\\s)?${e}(\\s.*?)?$`);return r(this,e=>Boolean(e.attributes.length&&t.test(e.getAttribute("class")||"")))}getElementsByName(e){return r(this,t=>Boolean(t.attributes.length&&t.getAttribute("name")===e))}getElementById(e){return i(this,t=>Boolean(t.attributes.length&&t.getAttribute("id")===e))}}function r(e,t){return e.nodeType===n.text?[]:e.childNodes.reduce((e,s)=>s.nodeType!==n.text&&t(s)?[...e,s,...r(s,t)]:[...e,...r(s,t)],[])}function i(e,t){for(let n=0,s=e.childNodes.length;n<s;n++){const s=e.childNodes[n];if(t(s))return s;const r=i(s,t);if(r)return r}return null}t.Node=s,s.ELEMENT_NODE=n.element,s.TEXT_NODE=n.text},66455:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeAttribute=void 0;t.NodeAttribute=class{constructor(e){let{name:t,value:n}=e;this.name=t,this.value=n}}},70999:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseFromString=void 0;const i=n(30071);t.parseFromString=function(e){return new i.Dom(e)},r(n(30071),t),r(n(61655),t)}}]);
//# sourceMappingURL=ObjectBlock.ba861d24.chunk.js.map