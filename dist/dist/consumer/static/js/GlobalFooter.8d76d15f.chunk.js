"use strict";(self.webpackChunkconsumer=self.webpackChunkconsumer||[]).push([[1054,3675],{50682:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAalJREFUSA21lj1Ow0AQhZ8NBQ0ljYlQUBqukDMgYdG74QJIOQHiHkhu6FGQIq5CYxSFn4aShiaB95ZdbGuNvSHxSKPYuzPfm/X+JUKLvQCDFZBGwCnDRvTEhr/xt/gCZjEwHQAMbTbm+vZO0CdwzZ4LQnb8iLKFgCXf8j3g6gCQcM08gVfgjFXfErxfi+x4IeiDo8kOgftqKNtKewYuCb9bFy6CcpQrRkkEfkdgKxe8JloNDnkmcEXAuRuJEbDf/PE/lTeJ6nNxTk40J6ZaTWgI/IgjljdBq21i2UWCSEuRDXN662oRwMEX5pNXkf4zq1jSh7ucmJTdnXAf0d6igulpTBVtol5MbM3BqBf6D3QkAbf9+9BJzCrqg+yYEvDOD9e5hV+zD4pQ0ILLUx4az7giZvQsNIGr4kEeGi/2Ohttzo12zKSIB9oTRYZtQizEbLTYXhZ5W7DtS7jrx5ywMd95lnVaLjaFgN4PO3vqZVTjybGZicGlmbnbTcvUmD2/J5uI2NyJuwsEZlvder0yJSV1XRZUvqHrQm81xShWOdXKXRL7/rZt/G35BnXTd2DdYGr4AAAAAElFTkSuQmCC"},58749:(e,a,s)=>{s.d(a,{A:()=>i});var l=s(69499),t=s(50682),r=s(61995);const i=e=>{let{fields:a,fieldsStates:s={},fieldsLabels:i,setFields:n}=e;const c=(e,s)=>{let l,t="",r=a;((e,a)=>{let s=new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/),l=new RegExp(/^[a-z\xc0-\xff ,.'-]+$/i),t=new RegExp(/^[0-9]+$/),r=!0;return a&&(r="email"===e?s.test(String(a).toLowerCase()):"postcode"===e?a.length>4||4===a.length&&t.test(a):l.test(String(a).toLowerCase())),r})(e,s)||("email"===e?t="Please enter a valid email address":"postcode"===e?t="Please enter a valid postcode":"fname"===e?t="Please enter a valid first name":"lname"===e&&(t="Please enter a valid last name"),l=!0);for(let a=0;a<r.length;a++)r[a].name===e&&(r[a].error=l,r[a].message=t);n({fields:r})},o=e=>{const{FirstNameLabel:a,LastNameLabel:s,EmailLabel:l,PostcodeLabel:t}=i||{};let r="";switch(e){case"fname":r=a&&a.value?a.value:"First Name";break;case"lname":r=s&&s.value?s.value:"Last Name";break;case"email":r=l&&l.value?l.value:"Email";break;case"postcode":r=t&&t.value?t.value:"Postcode"}return r};return a.map((e,i)=>{const d={type:"text",id:e.name,name:e.name,className:"form-control form-control-lg"+(a[i].error?" box-error":""),required:!0,onChange:e=>{(e=>{c(e.target.name,e.target.value),n({[e.target.name]:e.target.value})})(e)},value:s[e.name]};return"postcode"===e.name&&(d.pattern="d",d.maxLength="4",d.onKeyUp=e=>{/[^0-9]+/.test(e.currentTarget.value)&&(e.currentTarget.value=e.currentTarget.value.replace(/[^0-9]*/g,""))},d.pattern="[0-9]*"),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",{...d}),(0,r.jsx)("label",{className:"form-control-placeholder",htmlFor:e.name,children:o(e.name)}),a[i].error&&""!==a[i].message&&(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)("img",{src:t,className:"notify-indicator",alt:"notify-indicator"}),(0,r.jsx)("label",{className:(a[i].message?"text-message":"")+(a[i].error?" text-error":""),children:a[i].message})]})]},i)})}},83351:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var l=s(69499),t=s(98558),r=s(43210),i=s.n(r),n=s(75178),c=s(50682),o=s(9381),d=s(58749),m=s(61995);class u extends l.Component{constructor(e){super(e),this.subscribeRecaptchaLoaded=()=>{console.log("Successful Load Recaptcha - Subscribe"),this.setState({subscribeRecaptchaLoaded:!0})},this.subscribeRecaptchaExpired=()=>{this.setState({subscribeVerifiedRecaptcha:!1,subscribeExpiredRecaptcha:!0})},this.subscribeRecaptchaVerifyResponse=e=>{e?this.setState({subscribeVerifiedRecaptcha:!0,subscribeExpiredRecaptcha:!1}):this.setState({subscribeVerifiedRecaptcha:!1})},this.validateFormat=e=>new RegExp("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$").test(String(e).toLowerCase()),this.subscribe=async()=>{const{SubscribeEnableRecaptcha:e}=this.props,{pageId:a,dbName:s,email:l}=this.state.formData,t={pageId:a,dbName:s,emailAddress:l};if(""!==this.state.formData.email)if(e&&e.value&&!this.state.subscribeVerifiedRecaptcha){document.querySelector(".newsletter-wrapper > .row > .col > .form-recaptcha").classList.add("is-required"),this.setState({...this.setState,subscribeExpiredRecaptcha:!0}),this.setState({...this.state,message:"",error:!1,success:!1,modalOpen:!1})}else if(this.validateFormat(this.state.formData.email)){let e=await i()({method:"POST",url:"/api/sitecore/subscription/getuser",data:t});if(e&&e.data){let a,s,l=!1,t="";e.data.IsSuccessful?(a=!0,l=!0,document.getElementsByTagName("body")[0].classList.add("modal-open")):(s=!0,t=e.data.Message),this.setState({...this.state,message:t,error:s,success:a,modalOpen:l})}}else this.setState({...this.state,message:"Please enter a valid email address",error:!0,success:!1,modalOpen:!1});else this.setState({...this.state,message:"Please enter a valid email address",error:!0,success:!1})},this.handleEmailChange=e=>{let a="",s=!1;this.state.error&&!this.validateFormat(e.target.value)&&(a="Please enter a valid email address",s=!0),this.setState({...this.state,formData:{...this.state.formData,email:e.target.value},message:a,error:s})},this.handlePreferencesResponse=(e,a,s)=>{if(2===a.ApiResponse||5===a.ApiResponse){let l=5===a.ApiResponse?3:2,t=this.state.formData.fields;t[l].error=!0,t[l].message=a.Message,this.setState({...this.state,success:e,submitted:s,emailPrefResp:{...a},formData:{...this.state.formData,fields:t}})}else if(this.setState({formData:{...this.state.formData,email:"",fname:"",lname:"",postcode:""},success:e,submitted:s,emailPrefResp:{...a}}),e){const e=document.querySelector(".modal-wrapper");setTimeout(()=>{e.classList.remove("modal-active")},1e3),setTimeout(()=>{this.setState({modalOpen:!1}),document.getElementsByTagName("body")[0].classList.remove("modal-open")},1500)}},this.handleOnClose=e=>{this.setState({success:!1,modalOpen:!1,formData:{...this.state.formData,fname:"",lname:"",postcode:"",fields:[{name:"fname",error:!1,message:""},{name:"lname",error:!1,message:""},{name:"email",error:!1,message:""},{name:"postcode",error:!1,message:""}]}}),document.getElementsByTagName("body")[0].classList.remove("modal-open")},this.updateFieldsState=e=>{this.setState({...this.state,formData:{...this.state.formData,...e}})},this.state={formData:{pageId:"",dbName:"",fname:"",lname:"",postcode:"",email:"",fields:[{name:"fname",error:!1,message:""},{name:"lname",error:!1,message:""},{name:"email",error:!1,message:""},{name:"postcode",error:!1,message:""}]},emailPrefResp:{IsSuccessful:!1,Message:"",ApiResponse:null},message:"",error:!1,success:!1,modalOpen:!1,subscribeVerifiedRecaptcha:!1,subscribeExpiredRecaptcha:!1,subscribeRecaptchaLoaded:!1}}componentDidMount(){let e=window.document.getElementsByName("ContextItem")[0],a=e.value,s=e.dataset.targetDb;this.setState({...this.state,formData:{...this.state.formData,pageId:a,dbName:s,fname:"",lname:"",postcode:"",email:""}})}componentDidUpdate(){if(this.state.modalOpen){const e=document.querySelector(".modal-wrapper");e&&setTimeout(()=>{e.classList.add("modal-active")},1e3)}}render(){const{EmailPlaceholder:e=null,CentreFormButton:a=null,CentreAgreement:s=null,EmailPreferenceModalTitle:l=null,EmailPreferenceModalDescription:r=null,EmailPreferenceModalButton:i=null,Interests:u=null,GenderGroupLabel:h=null,GenderOptions:p=null,FirstNameLabel:b=null,LastNameLabel:f=null,EmailLabel:x=null,PostcodeLabel:g=null,SubscribeEnableRecaptcha:v=null,SubscribePublicKey:N=null,EmailEnableRecaptcha:j=null,EmailPublicKey:E=null}=this.props,{pageId:L,dbName:R,email:A,fname:S,lname:w,postcode:P,fields:D}=this.state.formData||{},{message:y,error:C,modalOpen:T}=this.state||{},{subscribeVerifiedRecaptcha:k,subscribeExpiredRecaptcha:F}=this.state,I={FirstNameLabel:b,LastNameLabel:f,EmailLabel:x,PostcodeLabel:g},O=v&&v.value&&N&&N.value,M={fname:S,lname:w,email:A,postcode:P};return(0,m.jsxs)("div",{className:"newsletter-wrapper",children:[e&&e.value&&a&&a.value&&(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col col-12 col-lg-9 col-md-7",children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("input",{type:"text",id:"footerNewsletterEmail",className:"form-control form-control-lg"+(y?" box-message":"")+(C?" box-error":""),required:!0,onChange:e=>{this.handleEmailChange(e)},value:A}),(0,m.jsx)("label",{className:"form-control-placeholder",htmlFor:"footerNewsletterEmail",children:(0,m.jsx)(t.Text,{field:e})}),C&&(0,m.jsx)("img",{src:c,className:"notify-indicator",alt:"notify-indicato"}),""!==y&&(0,m.jsx)("label",{className:(y?"text-message":"")+(C?" text-error":""),children:y})]}),O&&(0,m.jsxs)("div",{className:"form-group form-recaptcha "+(k?"verifiedRecaptcha ":" ")+(F?"is-required":" "),children:[(0,m.jsx)(n.A,{size:"normal",sitekey:N&&N.value?N.value:"6LeqAfYUAAAAAGK1oZ1NzfVUFeC4kqJOe16XklGg",onChange:this.subscribeRecaptchaVerifyResponse,onExpired:this.subscribeRecaptchaExpired,asyncScriptOnLoad:this.subscribeRecaptchaLoaded}),(0,m.jsx)("div",{className:"form-control-validation",children:(0,m.jsx)("label",{className:"text-error",children:"ReCaptcha is required"})})]})]}),(0,m.jsx)("div",{className:"col col-12 col-md-3",children:(0,m.jsx)("button",{className:"newsletter-btn",onClick:()=>{this.subscribe()},children:(0,m.jsx)(t.Text,{field:a})})})]}),s&&s.value&&(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col newsletter-cb",children:(0,m.jsx)(t.RichText,{field:s})})}),T&&(0,m.jsx)("div",{className:"modal-wrapper",children:(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)("i",{className:"icon icon-close",onClick:this.handleOnClose}),D.length&&(0,m.jsxs)("div",{className:"modal-subscribe-form",children:[(0,m.jsx)("div",{className:"modal-subscribe-form__header",children:(0,m.jsx)(t.Text,{field:l})}),(0,m.jsx)("div",{className:"modal-subscribe-form-group-container",children:(0,m.jsx)(d.A,{fields:D,fieldsStates:M,setFields:this.updateFieldsState,fieldsLabels:I})})]}),(0,m.jsx)(o.A,{PageID:L,DBName:R,EmailAddress:A,FirstName:S,LastName:w,Postcode:P,Description:r,ButtonName:i&&i.value?i.value:"Done",Interests:u,GenderDescription:h,GenderOptions:p,RadioGroupName:"Newsletter-Gender",IsModal:!0,EmailPreferenceResponse:(e,a,s)=>{this.handlePreferencesResponse(e,a,s)},Container:"newsletter-wrapper",Endpoint:"signup-footer",EnableRecaptcha:j,RecaptchaPublicKey:E,OnSubmitted:()=>{O&&(window.grecaptcha.reset(),this.setState({subscribeVerifiedRecaptcha:!1,subscribeExpiredRecaptcha:!1}))}})]})})]})}}const h=u},98867:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});s(69499);var l=s(98558),t=s(83351),r=s(61995);const i=e=>{const{FootnoteLinks:a=null,SocialLinks:s=null,VisitLinks:i=null,CentreText:n=null,CentreAddress:c=null,ViewOnMap:o=null,MiscLogoUrl:d=null,MiscLogoLink:m=null}=e.fields||{},{SubscribeTitle:u=null,EmailPlaceholder:h=null,CentreFormButton:p=null,CentreAgreement:b=null,PublicKey:f=null,EnableRecaptcha:x=null,PrivateKey:g=null}=e.fields.SubscribeForm.fields||{},{EmailPreferenceModalTitle:v=null,EmailPreferenceModalDescription:N=null,EmailPreferenceModalButton:j=null,Interests:E=null,GenderGroupLabel:L=null,GenderOptions:R=null,FirstNameLabel:A=null,LastNameLabel:S=null,EmailLabel:w=null,PostcodeLabel:P=null,PublicKey:D=null,EnableRecaptcha:y=null,PrivateKey:C=null}=e.fields.EmailPreferenceModal.fields||{};let T="";return"Centre Map"!==e.params.pageName&&(T=(0,r.jsx)("div",{className:"globalfooter-wrapper",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col col-12 col-xl-6 col-lg-5 ",children:[(0,r.jsx)("div",{className:"heading",children:(0,r.jsx)(l.Text,{field:n})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col-12 col-md-6 centre-pages",children:i&&i.length&&i.map((e,a)=>{let{VisitLink:s=null,LinkName:t=null}=e.fields||{},i=null;return s&&s.value&&s.value.href&&t&&t.value&&(i=(0,r.jsx)("div",{className:"item",children:(0,r.jsx)("a",{...s.value,children:(0,r.jsx)(l.Text,{field:t})})},`myId-${a}`)),i})}),(0,r.jsxs)("div",{className:"col col-12 col-xl-5 col-md-6 centre-location",children:[(0,r.jsx)("div",{className:"centre-address",children:(0,r.jsx)(l.Text,{field:c})}),(0,r.jsxs)("div",{className:"centre-map",children:[(0,r.jsx)("i",{className:"icon icon-location"}),(0,r.jsx)(l.Link,{field:o})]}),d&&d.value&&m&&m.value&&m.value.href&&(0,r.jsx)("div",{className:"misc-url",children:(0,r.jsxs)("a",{...m.value,href:m.value.href+m.value.querystring,children:[(0,r.jsx)("img",{src:d.value,alt:"Misc Logo Alt"}),(0,r.jsx)("span",{children:m.value.text})]})})]})]})]}),(0,r.jsxs)("div",{className:"col",children:[u&&u.value&&(0,r.jsx)("div",{className:"footer-desc",children:(0,r.jsx)(l.Text,{field:u})}),(0,r.jsx)(t.default,{EmailPlaceholder:h,CentreFormButton:p,CentreAgreement:b,EmailPreferenceModalTitle:v,EmailPreferenceModalDescription:N,EmailPreferenceModalButton:j,Interests:E,GenderGroupLabel:L,FirstNameLabel:A,LastNameLabel:S,EmailLabel:w,PostcodeLabel:P,GenderOptions:R,SubscribeEnableRecaptcha:x,SubscribePublicKey:f,EmailEnableRecaptcha:y,EmailPublicKey:D}),s&&s.length&&(0,r.jsx)("div",{className:"centresocial",children:(0,r.jsx)("div",{className:"row no-gutters justify-content-md-start",children:s&&s.map((e,a)=>{let{SocialLink:s=null,Icon:l=null}=e.fields,t=null;return l&&l.value&&s&&s.value&&s.value.href&&(t=(0,r.jsx)("div",{className:"col col-auto",children:(0,r.jsx)("a",{...s.value,children:(0,r.jsx)("i",{className:`icon icon-${l.value}`})})},`myId-${a}`)),t})})})]})]}),a&&a.length&&(0,r.jsx)("div",{className:"centrelink",children:(0,r.jsx)("div",{className:"row no-gutters",children:a&&a.map((e,a)=>{let{FootNoteLink:s=null,LinkName:t=null}=e.fields||{},i=null;return s.value.href&&t.value&&(i=(0,r.jsxs)("div",{className:"col-auto",children:[(0,r.jsx)("a",{...s.value,children:(0,r.jsx)(l.Text,{field:t})}),(0,r.jsx)("a",{...s.value,className:"no-underline",children:(0,r.jsx)("i",{className:"icon icon-external ml-2"})})]},`myId-${a}`)),i})})})]})})),T}}}]);
//# sourceMappingURL=GlobalFooter.8d76d15f.chunk.js.map